<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mosaico de Imágenes desde Dropbox</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
  <script>
    var img;
    var emoji_0, emoji_64, emoji_128, emoji_192;

    function preload() {
      img = loadImage("https://cdn.glitch.global/c536c49d-7661-4fd9-81b8-918d12539028/almagua-escuela.jpg");
      emoji_192 = loadImage("https://cdn.glitch.global/c536c49d-7661-4fd9-81b8-918d12539028/132792727_837456340130678_6988730526045736713_n.jpg"); // Reemplaza "URL_IMAGEN_192" con el enlace directo a la imagen correspondiente en Dropbox
      emoji_128 = loadImage("https://cdn.glitch.global/c536c49d-7661-4fd9-81b8-918d12539028/198845101_989500098492476_3555566408394435419_n.jpg"); // Reemplaza "URL_IMAGEN_128" con el enlace directo a la imagen correspondiente en Dropbox
      emoji_64 = loadImage("https://cdn.glitch.global/c536c49d-7661-4fd9-81b8-918d12539028/348264971_589673896302117_8714738300620693336_n.jpg");   // Reemplaza "URL_IMAGEN_64" con el enlace directo a la imagen correspondiente en Dropbox
      emoji_0 = loadImage("https://cdn.glitch.global/c536c49d-7661-4fd9-81b8-918d12539028/429309602_1946910019039923_5203933763868921566_n.jpg");     // Reemplaza "URL_IMAGEN_0" con el enlace directo a la imagen correspondiente en Dropbox
    }

    function setup() { 
      createCanvas(1000, 800); // Tamaño del lienzo
      noLoop();
    }

    function draw() {
      background(0);

      img.loadPixels();
      
      var grid = 15;
      var diameter = 18;

      for (var y = 0; y < img.height; y += grid) {
        for (var x = 0; x < img.width; x += grid) {
          var pix = red(img.get(x, y));
          
          if (pix <= 64) {
            image(emoji_0, x, y, diameter, diameter);
          } else if (pix > 64 && pix <= 128) {
            image(emoji_64, x, y, diameter, diameter);
          } else if (pix > 128 && pix <= 192) {
            image(emoji_128, x, y, diameter, diameter);
          } else if (pix > 192 && pix <= 255) {
            image(emoji_192, x, y, diameter, diameter);
          }
        }
      }
    }
  </script>
</body>
</html>
